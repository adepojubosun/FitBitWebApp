{"ast":null,"code":"var _jsxFileName = \"/Users/maverick/Documents/CodingProjects/Fitbit Client/fitbit-client/src/Components/home.jsx\";\nimport React, { Component } from \"react\";\nimport StatsCard from \"./StatsCard\";\nimport { Row, Col, Dropdown } from \"react-bootstrap\";\nimport AdminNavbar from \"./AdminNavbar\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport queryString from \"query-string\";\nimport moment from \"moment\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPercent, faLevelUpAlt, faLevelDownAlt } from '@fortawesome/free-solid-svg-icons';\nconst mealUrl = \"https://api.fitbit.com/1/user/-/foods/log/date/\"; //2019-10-06.json\n\nconst foodUrl = \"https://api.fitbit.com/1/foods/\";\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mealLog: {},\n      dataSummary: [],\n      startDate: null\n    };\n    this.loadData = this.loadData.bind(this);\n  }\n\n  renderData() {\n    if (this.state.dataSummary === undefined) {\n      return React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"No logs available for that date\");\n    } //  return (\n    //    this.state.dataSummary\n    // )\n\n\n    return this.state.dataSummary.map(i => {\n      return React.createElement(Col, {\n        lg: 3,\n        sm: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, \" \", i, \" \");\n    });\n  }\n\n  loadData(date) {\n    // console.log(date);\n    let parsed = queryString.parse(window.location.search);\n    let access_token = parsed.access_token;\n    fetch(mealUrl + date + \".json\", {\n      headers: {\n        Authorization: \"Bearer \" + access_token\n      }\n    }).then(response => response.json()).then(data => {\n      let summary = Object.keys(data.summary).map(function (key, index) {\n        return React.createElement(StatsCard, {\n          key: key,\n          bigIcon: React.createElement(FontAwesomeIcon, {\n            icon: faPercent,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }),\n          statsText: key,\n          statsValue: data.summary[key],\n          statsIcon: parseFloat(data.summary[key]) > 100.0 ? React.createElement(FontAwesomeIcon, {\n            icon: faLevelUpAlt,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }) : React.createElement(FontAwesomeIcon, {\n            icon: faLevelDownAlt,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }),\n          statsIconText: parseFloat(data.summary[key]) > 100.0 ? \"Over the limit\" : \"Under the limit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        });\n      });\n      this.setState({\n        dataSummary: summary\n      });\n      console.log(\"state\", this.state.dataSummary);\n    });\n  }\n\n  componentDidMount() {}\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"main-panel\",\n      id: \"main-panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(AdminNavbar, {\n      data: this.props.userDetails,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Dropdown, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Dropdown.Toggle, {\n      variant: \"success\",\n      id: \"dropdown-basic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Select Food Filter\"), React.createElement(Dropdown.Menu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Dropdown.Item, {\n      href: \"#/action-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Action\"), React.createElement(Dropdown.Item, {\n      href: \"#/action-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Another action\"), React.createElement(Dropdown.Item, {\n      href: \"#/action-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Something else\")))), React.createElement(Col, {\n      lg: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(DatePicker, {\n      selected: this.state.startDate,\n      onChange: date => this.loadData(moment(date).format(\"YYYY-MM-DD\"), date),\n      dateFormat: \"yyyy-MM-dd\",\n      placeholderText: \"Select food log date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, this.renderData()))));\n  }\n\n} // data.foods.map(function(logged){\n//   return fetch(foodUrl+logged.loggedFood.foodId+\".json\",\n//   {headers : {'Authorization': 'Bearer '+access_token}\n// }).then(response => response.json()).then(\n//   function(data)\n//   {\n//     console.log(data);\n//   }\n// )\n// })","map":{"version":3,"sources":["/Users/maverick/Documents/CodingProjects/Fitbit Client/fitbit-client/src/Components/home.jsx"],"names":["React","Component","StatsCard","Row","Col","Dropdown","AdminNavbar","DatePicker","queryString","moment","FontAwesomeIcon","faPercent","faLevelUpAlt","faLevelDownAlt","mealUrl","foodUrl","Home","constructor","props","state","mealLog","dataSummary","startDate","loadData","bind","renderData","undefined","map","i","date","parsed","parse","window","location","search","access_token","fetch","headers","Authorization","then","response","json","data","summary","Object","keys","key","index","parseFloat","setState","console","log","componentDidMount","render","userDetails","format"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport StatsCard from \"./StatsCard\";\nimport { Row, Col, Dropdown } from \"react-bootstrap\";\nimport AdminNavbar from \"./AdminNavbar\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport queryString from \"query-string\";\nimport moment from \"moment\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {faPercent, faLevelUpAlt, faLevelDownAlt} from '@fortawesome/free-solid-svg-icons';\n\nconst mealUrl = \"https://api.fitbit.com/1/user/-/foods/log/date/\";\n//2019-10-06.json\nconst foodUrl = \"https://api.fitbit.com/1/foods/\";\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mealLog: {},\n      dataSummary: [],\n      startDate: null\n    };\n    this.loadData = this.loadData.bind(this);\n  }\n\n  renderData() {\n    if (this.state.dataSummary === undefined) {\n      return <h4>No logs available for that date</h4>\n    }\n    //  return (\n    //    this.state.dataSummary\n    // )\n    return this.state.dataSummary.map((i) => {\n      return (  <Col lg={3} sm={6}> {i} </Col>)\n   });\n  }\n\n  loadData(date) {\n   // console.log(date);\n    let parsed = queryString.parse(window.location.search);\n    let access_token = parsed.access_token;\n\n    fetch(mealUrl + date + \".json\", {\n      headers: { Authorization: \"Bearer \" + access_token }\n    })\n      .then(response => response.json())\n      .then(data => \n        { \n          let summary =    \n         Object.keys(data.summary).map(function(key, index) {\n          return ( \n              <StatsCard\n            key={key}\n            bigIcon={<FontAwesomeIcon icon={faPercent} />}\n            statsText={key}\n            statsValue={data.summary[key]}\n            statsIcon={(parseFloat(data.summary[key]) > 100.0) ? <FontAwesomeIcon icon={faLevelUpAlt}/> : <FontAwesomeIcon icon={faLevelDownAlt}/>}\n            statsIconText={(parseFloat(data.summary[key]) > 100.0) ? \"Over the limit\" : \"Under the limit\" }\n          />\n )\n       })\n      \n      this.setState({dataSummary : summary});\n      console.log(\"state\", this.state.dataSummary);\n    });\n  }\n\n  componentDidMount() {}\n\n  render() {\n    return (\n      <div className=\"main-panel\" id=\"main-panel\">\n        <AdminNavbar data={this.props.userDetails} />\n        <div className=\"content\">\n          <div className=\"container\">\n            <Row>\n              <Col lg={4}>\n                <Dropdown>\n                  <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                    Select Food Filter\n                  </Dropdown.Toggle>\n                  <Dropdown.Menu>\n                    <Dropdown.Item href=\"#/action-1\">Action</Dropdown.Item>\n                    <Dropdown.Item href=\"#/action-2\">\n                      Another action\n                    </Dropdown.Item>\n                    <Dropdown.Item href=\"#/action-3\">\n                      Something else\n                    </Dropdown.Item>\n                  </Dropdown.Menu>\n                </Dropdown>\n              </Col>\n              <Col lg={4}>\n                <DatePicker\n                  selected={this.state.startDate}\n                  onChange={date =>\n                    this.loadData(moment(date).format(\"YYYY-MM-DD\"), date)\n                  }\n                  dateFormat=\"yyyy-MM-dd\"\n                  placeholderText=\"Select food log date\"\n                />\n              </Col>\n            </Row>\n            <br></br>\n            <Row>\n             \n              {this.renderData()}\n              \n            </Row>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n// data.foods.map(function(logged){\n//   return fetch(foodUrl+logged.loggedFood.foodId+\".json\",\n//   {headers : {'Authorization': 'Bearer '+access_token}\n// }).then(response => response.json()).then(\n//   function(data)\n//   {\n//     console.log(data);\n//   }\n// )\n// })\n"]},"metadata":{},"sourceType":"module"}